/*

The function accepts two arguments, both in the form of a list/array, x and y, 
both representing the coordinates of the points to regress (so that, for example, the first point has coordinates (x[0], y[0]).

Function should return an array of two elements: a (intercept) and b (slope) in this order.

*/

function regression_line(x,y){
  var n = x.length;
  var Exy=0;
  var Ex, Ex2, Ey;
  
  Ex =  x.reduce(function(a,b){return a+b;});
  Ex2 =  x.reduce(function(a,b){return a+Math.pow(b,2)},0);
  Ey =  y.reduce(function(a,b){return a+b;});
  for (var i=0; i<n; i++){
    Exy+= x[i]*y[i]
  }
  var a = (Ex2*Ey-Ex*Exy)/(n*Ex2-Math.pow(Ex,2));
  var b = (n*Exy-Ex*Ey)/(n*Ex2-Math.pow(Ex,2));
  return [a.toFixed(4), b.toFixed(4)]
}
